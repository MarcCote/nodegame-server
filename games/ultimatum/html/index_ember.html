<!doctype html>
<head>
<title>Ultimatum EMBER</title>

<script type="text/x-handlebars" data-template-name="VisualState">
<fieldset id="visualstate_fieldset">
  <legend>State</legend>
  <table id="table_906">
    <tbody>
      <tr>
        <td>Previous: </td>
        <td>{{Game.state.previous}}</td>
      </tr>
      <tr>
        <td class="null strong underline">Current: </td>
        <td class="null strong">{{Game.state.current}}</td>
      </tr>
      <tr>
        <td>Next: </td>
        <td>{{Game.state.next}}</td>
      </tr>
    </tbody>
  </table>
</fieldset>
</script>

<script type="text/x-handlebars" data-template-name="VisualTimer">
<fieldset id="visualtimer_fieldset">
  <legend>Time to go</legend>
  <div id="visualtimer_div">{{Game.timer.time}}</div>
</fieldset>
</script>

<script type="text/x-handlebars" data-template-name="DoneButton">
<button id="donebutton">Done!</button>
</script>

<script type="text/x-handlebars" data-template-name="StateDisplay">
<fieldset id="statedisplay_fieldset">
  <legend>Player Status</legend>
  <div id="statedisplay_player">
    Name: {{Game.player.name}}<br/>Id: {{Game.player.id}}
    <div>
      State: {{Game.player.state}}
    </div>
  </div>
</fieldset>
</script>

</head>
<body>
<div id="root"></div>

<script src="/socket.io/socket.io.js"></script> 
<script src="/javascripts/nodegame.js" charset="utf-8"></script>

<script src="jquery-1.7.2.min.js"></script>
<script src="ember-0.9.6.min.js" charset='utf-8'></script>

<script src="Ultimatum_ember.js" charset="utf-8"></script>

<link rel="stylesheet" href="../player.css" type="text/css">

<script>

  // // Creating a namespace.
  // window.App = Ember.Application.create();
  // 
  // // Creating a binding.
  // App.president = Ember.Object.create({
  //   name: 'Barack Obama'
  // });
  // 
  // // Output the name to the console.
  // console.log(App.president.get('name'));
  // 
  // // Create View.
  // var view = Ember.View.create({
  //   templateName: 'say-hello',
  // });
  // view.appendTo('#root');
  // 
  // setTimeout(function(){
  //   App.president.set('name', 'John F. Kennedy');
  // }, 2000);
  
  
  // Instantiate Game when everything is ready and loaded.
  $(document).ready(function(){
    var conf = {
      name: "P_" + Math.floor(Math.random()*100),
      url: "/ultimatum",
      verbosity: 10,
      io: {
        reconnect: false
      }
    };
    
    node.play(conf, new Ultimatum());
  });
  
</script>
</body>